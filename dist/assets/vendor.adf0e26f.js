var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H={exports:{}};(function(r,e){(function(n,a){a(r)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:G,function(n){if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const a="The message port closed before a response was received.",i=l=>{const c={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(c).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(t,m=void 0){super(m);this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const w=s=>s&&typeof s=="object"&&typeof s.then=="function",b=(s,t)=>(...m)=>{l.runtime.lastError?s.reject(new Error(l.runtime.lastError.message)):t.singleCallbackArg||m.length<=1&&t.singleCallbackArg!==!1?s.resolve(m[0]):s.resolve(m)},v=s=>s==1?"argument":"arguments",D=(s,t)=>function(o,...u){if(u.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${v(t.minArgs)} for ${s}(), got ${u.length}`);if(u.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${v(t.maxArgs)} for ${s}(), got ${u.length}`);return new Promise((f,x)=>{if(t.fallbackToNoCallback)try{o[s](...u,b({resolve:f,reject:x},t))}catch(g){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,g),o[s](...u),t.fallbackToNoCallback=!1,t.noCallback=!0,f()}else t.noCallback?(o[s](...u),f()):o[s](...u,b({resolve:f,reject:x},t))})},P=(s,t,m)=>new Proxy(t,{apply(o,u,f){return m.call(u,s,...f)}});let k=Function.call.bind(Object.prototype.hasOwnProperty);const C=(s,t={},m={})=>{let o=Object.create(null),u={has(x,g){return g in s||g in o},get(x,g,h){if(g in o)return o[g];if(!(g in s))return;let A=s[g];if(typeof A=="function")if(typeof t[g]=="function")A=P(s,s[g],t[g]);else if(k(m,g)){let y=D(g,m[g]);A=P(s,s[g],y)}else A=A.bind(s);else if(typeof A=="object"&&A!==null&&(k(t,g)||k(m,g)))A=C(A,t[g],m[g]);else if(k(m,"*"))A=C(A,t[g],m["*"]);else return Object.defineProperty(o,g,{configurable:!0,enumerable:!0,get(){return s[g]},set(y){s[g]=y}}),A;return o[g]=A,A},set(x,g,h,A){return g in o?o[g]=h:s[g]=h,!0},defineProperty(x,g,h){return Reflect.defineProperty(o,g,h)},deleteProperty(x,g){return Reflect.deleteProperty(o,g)}},f=Object.create(s);return new Proxy(f,u)},E=s=>({addListener(t,m,...o){t.addListener(s.get(m),...o)},hasListener(t,m){return t.hasListener(s.get(m))},removeListener(t,m){t.removeListener(s.get(m))}}),U=new p(s=>typeof s!="function"?s:function(m){const o=C(m,{},{getContent:{minArgs:0,maxArgs:0}});s(o)}),q=new p(s=>typeof s!="function"?s:function(m,o,u){let f=!1,x,g=new Promise(T=>{x=function(d){f=!0,T(d)}}),h;try{h=s(m,o,x)}catch(T){h=Promise.reject(T)}const A=h!==!0&&w(h);if(h!==!0&&!A&&!f)return!1;const y=T=>{T.then(d=>{u(d)},d=>{let S;d&&(d instanceof Error||typeof d.message=="string")?S=d.message:S="An unexpected error occurred",u({__mozWebExtensionPolyfillReject__:!0,message:S})}).catch(d=>{console.error("Failed to send onMessage rejected reply",d)})};return y(A?h:g),!0}),Z=({reject:s,resolve:t},m)=>{l.runtime.lastError?l.runtime.lastError.message===a?t():s(new Error(l.runtime.lastError.message)):m&&m.__mozWebExtensionPolyfillReject__?s(new Error(m.message)):t(m)},M=(s,t,m,...o)=>{if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${v(t.minArgs)} for ${s}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${v(t.maxArgs)} for ${s}(), got ${o.length}`);return new Promise((u,f)=>{const x=Z.bind(null,{resolve:u,reject:f});o.push(x),m.sendMessage(...o)})},z={devtools:{network:{onRequestFinished:E(U)}},runtime:{onMessage:E(q),onMessageExternal:E(q),sendMessage:M.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:M.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},$={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return c.privacy={network:{"*":$},services:{"*":$},websites:{"*":$}},C(l,z,c)};n.exports=i(chrome)}else n.exports=globalThis.browser})})(H);function xr(r,e,n,a,i,l,c,p,w){switch(arguments.length){case 1:return r;case 2:return function(){return e(r.apply(this,arguments))};case 3:return function(){return n(e(r.apply(this,arguments)))};case 4:return function(){return a(n(e(r.apply(this,arguments))))};case 5:return function(){return i(a(n(e(r.apply(this,arguments)))))};case 6:return function(){return l(i(a(n(e(r.apply(this,arguments))))))};case 7:return function(){return c(l(i(a(n(e(r.apply(this,arguments)))))))};case 8:return function(){return p(c(l(i(a(n(e(r.apply(this,arguments))))))))};case 9:return function(){return w(p(c(l(i(a(n(e(r.apply(this,arguments)))))))))}}}function hr(r,e,n,a,i,l,c,p,w){switch(arguments.length){case 1:return r;case 2:return e(r);case 3:return n(e(r));case 4:return a(n(e(r)));case 5:return i(a(n(e(r))));case 6:return l(i(a(n(e(r)))));case 7:return c(l(i(a(n(e(r))))));case 8:return p(c(l(i(a(n(e(r)))))));case 9:return w(p(c(l(i(a(n(e(r))))))));default:for(var b=arguments[0],v=1;v<arguments.length;v++)b=arguments[v](b);return b}}globalThis&&globalThis.__spreadArray;var O=function(r){return r._tag==="Some"},_={_tag:"None"},R=function(r){return{_tag:"Some",value:r}},V=function(r){return r._tag==="Left"},K=function(r){return r._tag==="Right"},J=function(r){return{_tag:"Left",left:r}},Q=function(r){return{_tag:"Right",right:r}},X=Object.prototype.hasOwnProperty,Y={equals:function(r,e){return r===e}},rr=function(r){return function(e,n){return e===n||r(e,n)===0}},L=function(r){return{equals:rr(r),compare:function(e,n){return e===n?0:r(e,n)}}},pr=function(r){return L(function(e,n){return r.compare(n,e)})},dr=function(r){return function(e){return L(function(n,a){return e.compare(r(n),r(a))})}},er=function(r){return function(e,n){return e===n||r.compare(e,n)>-1?e:n}};function nr(r,e){return r<e?-1:r>e?1:0}Y.equals;var sr=function(r){return{concat:er(r)}},tr=_,ar=R,vr=O,br=function(r){return r._tag==="None"},yr=function(r){return r==null?tr:ar(r)},F=J,j=Q,wr=V,Tr=K,kr=function(r){return function(e){return e==null?F(r):j(e)}},Cr=function(r,e){try{return j(r())}catch(n){return F(e(n))}};globalThis&&globalThis.__spreadArray;var gr=function(r){var e=sr(r);return function(n){return n.reduce(e.concat)}};globalThis&&globalThis.__spreadArray;var Er=gr,B={equals:function(r,e){return r===e}},ir={equals:B.equals,compare:function(r,e){return r<e?-1:r>e?1:0}};B.equals,ir.compare;globalThis&&globalThis.__spreadArray;var mr=function(r){return function(e){for(var n=0;n<e.length;n++)if(r(e[n]))return R(n);return _}},or=function(r){return function(e){for(var n=0;n<e.length;n++){var a=r(e[n]);if(O(a))return a}return _}},$r=mr,Sr=or,lr=function(r){return r.slice()},_r=function(r){return function(e){return e.length<=1?lr(e):e.slice().sort(r.compare)}},Pr=function(r){return function(e){return e.map(function(n){return r(n)})}},Ar={equals:function(r,e){return r===e}},I={equals:Ar.equals,compare:function(r,e){return r<e?-1:r>e?1:0}};function ur(r){return function(e){var n={};for(var a in e)X.call(e,a)&&(n[a]=r(a,e[a]));return n}}function cr(r){return ur(function(e,n){return r(n)})}var N=globalThis&&globalThis.__assign||function(){return N=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},N.apply(this,arguments)},fr=function(r){return function(e){return Object.keys(e).sort(r.compare)}};function W(r){if(typeof r=="function")return W(I)(r);var e=fr(r);return function(n){return function(a){for(var i=[],l=0,c=e(a);l<c.length;l++){var p=c[l];i.push(n(p,a[p]))}return i}}}var qr=W(I)(function(r,e){return[r,e]}),Mr=cr;export{ir as O,yr as a,H as b,wr as c,br as d,dr as e,xr as f,Tr as g,pr as h,vr as i,_r as j,Pr as k,F as l,Er as m,tr as n,qr as o,hr as p,Mr as q,j as r,ar as s,Cr as t,kr as u,$r as v,Sr as w};
