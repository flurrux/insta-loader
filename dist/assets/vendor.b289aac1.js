var H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V={exports:{}};(function(r,e){(function(n,i){i(r)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:H,function(n){if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const i="The message port closed before a response was received.",o=u=>{const h={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(h).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(t,g=void 0){super(g);this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const w=s=>s&&typeof s=="object"&&typeof s.then=="function",b=(s,t)=>(...g)=>{u.runtime.lastError?s.reject(new Error(u.runtime.lastError.message)):t.singleCallbackArg||g.length<=1&&t.singleCallbackArg!==!1?s.resolve(g[0]):s.resolve(g)},v=s=>s==1?"argument":"arguments",U=(s,t)=>function(m,...A){if(A.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${v(t.minArgs)} for ${s}(), got ${A.length}`);if(A.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${v(t.maxArgs)} for ${s}(), got ${A.length}`);return new Promise((c,x)=>{if(t.fallbackToNoCallback)try{m[s](...A,b({resolve:c,reject:x},t))}catch(a){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),m[s](...A),t.fallbackToNoCallback=!1,t.noCallback=!0,c()}else t.noCallback?(m[s](...A),c()):m[s](...A,b({resolve:c,reject:x},t))})},M=(s,t,g)=>new Proxy(t,{apply(m,A,c){return g.call(A,s,...c)}});let C=Function.call.bind(Object.prototype.hasOwnProperty);const E=(s,t={},g={})=>{let m=Object.create(null),A={has(x,a){return a in s||a in m},get(x,a,f){if(a in m)return m[a];if(!(a in s))return;let l=s[a];if(typeof l=="function")if(typeof t[a]=="function")l=M(s,s[a],t[a]);else if(C(g,a)){let y=U(a,g[a]);l=M(s,s[a],y)}else l=l.bind(s);else if(typeof l=="object"&&l!==null&&(C(t,a)||C(g,a)))l=E(l,t[a],g[a]);else if(C(g,"*"))l=E(l,t[a],g["*"]);else return Object.defineProperty(m,a,{configurable:!0,enumerable:!0,get(){return s[a]},set(y){s[a]=y}}),l;return m[a]=l,l},set(x,a,f,l){return a in m?m[a]=f:s[a]=f,!0},defineProperty(x,a,f){return Reflect.defineProperty(m,a,f)},deleteProperty(x,a){return Reflect.deleteProperty(m,a)}},c=Object.create(s);return new Proxy(c,A)},S=s=>({addListener(t,g,...m){t.addListener(s.get(g),...m)},hasListener(t,g){return t.hasListener(s.get(g))},removeListener(t,g){t.removeListener(s.get(g))}}),z=new p(s=>typeof s!="function"?s:function(g){const m=E(g,{},{getContent:{minArgs:0,maxArgs:0}});s(m)}),N=new p(s=>typeof s!="function"?s:function(g,m,A){let c=!1,x,a=new Promise(k=>{x=function(d){c=!0,k(d)}}),f;try{f=s(g,m,x)}catch(k){f=Promise.reject(k)}const l=f!==!0&&w(f);if(f!==!0&&!l&&!c)return!1;const y=k=>{k.then(d=>{A(d)},d=>{let P;d&&(d instanceof Error||typeof d.message=="string")?P=d.message:P="An unexpected error occurred",A({__mozWebExtensionPolyfillReject__:!0,message:P})}).catch(d=>{console.error("Failed to send onMessage rejected reply",d)})};return y(l?f:a),!0}),Z=({reject:s,resolve:t},g)=>{u.runtime.lastError?u.runtime.lastError.message===i?t():s(new Error(u.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?s(new Error(g.message)):t(g)},R=(s,t,g,...m)=>{if(m.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${v(t.minArgs)} for ${s}(), got ${m.length}`);if(m.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${v(t.maxArgs)} for ${s}(), got ${m.length}`);return new Promise((A,c)=>{const x=Z.bind(null,{resolve:A,reject:c});m.push(x),g.sendMessage(...m)})},G={devtools:{network:{onRequestFinished:S(z)}},runtime:{onMessage:S(N),onMessageExternal:S(N),sendMessage:R.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:R.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},_={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return h.privacy={network:{"*":_},services:{"*":_},websites:{"*":_}},E(u,G,h)};n.exports=o(chrome)}else n.exports=globalThis.browser})})(V);function xr(r){return r}function fr(r,e,n,i,o,u,h,p,w){switch(arguments.length){case 1:return r;case 2:return function(){return e(r.apply(this,arguments))};case 3:return function(){return n(e(r.apply(this,arguments)))};case 4:return function(){return i(n(e(r.apply(this,arguments))))};case 5:return function(){return o(i(n(e(r.apply(this,arguments)))))};case 6:return function(){return u(o(i(n(e(r.apply(this,arguments))))))};case 7:return function(){return h(u(o(i(n(e(r.apply(this,arguments)))))))};case 8:return function(){return p(h(u(o(i(n(e(r.apply(this,arguments))))))))};case 9:return function(){return w(p(h(u(o(i(n(e(r.apply(this,arguments)))))))))}}}function hr(r,e,n,i,o,u,h,p,w){switch(arguments.length){case 1:return r;case 2:return e(r);case 3:return n(e(r));case 4:return i(n(e(r)));case 5:return o(i(n(e(r))));case 6:return u(o(i(n(e(r)))));case 7:return h(u(o(i(n(e(r))))));case 8:return p(h(u(o(i(n(e(r)))))));case 9:return w(p(h(u(o(i(n(e(r))))))));default:for(var b=arguments[0],v=1;v<arguments.length;v++)b=arguments[v](b);return b}}globalThis&&globalThis.__spreadArray;var q=function(r){return r._tag==="Some"},T={_tag:"None"},$=function(r){return{_tag:"Some",value:r}},K=function(r){return r._tag==="Left"},J=function(r){return r._tag==="Right"},Q=function(r){return{_tag:"Left",left:r}},X=function(r){return{_tag:"Right",right:r}},Y={equals:function(r,e){return r===e}},rr=function(r){return function(e,n){return e===n||r(e,n)===0}},O=function(r){return{equals:rr(r),compare:function(e,n){return e===n?0:r(e,n)}}},dr=function(r){return O(function(e,n){return r.compare(n,e)})},pr=function(r){return function(e){return O(function(n,i){return e.compare(r(n),r(i))})}},er=function(r){return function(e,n){return e===n||r.compare(e,n)>-1?e:n}};function nr(r,e){return r<e?-1:r>e?1:0}Y.equals;var sr=function(r){return{concat:er(r)}},F=T,L=$,vr=function(r){return function(e){return B(e)?F:L(r(e.value))}},br=q,B=function(r){return r._tag==="None"},tr=function(r,e){return function(n){return B(n)?r():e(n.value)}},ar=tr,yr=ar,wr=function(r){return r==null?F:L(r)},j=Q,I=X,kr=K,Tr=J,Cr=function(r){return function(e){return e==null?j(r):I(e)}},Er=function(r,e){try{return I(r())}catch(n){return j(e(n))}};globalThis&&globalThis.__spreadArray;var gr=function(r,e){return r<0||r>=e.length},ir=function(r){var e=sr(r);return function(n){return n.reduce(e.concat)}};globalThis&&globalThis.__spreadArray;var $r=ir,W={equals:function(r,e){return r===e}},mr={equals:W.equals,compare:function(r,e){return r<e?-1:r>e?1:0}};W.equals,mr.compare;globalThis&&globalThis.__spreadArray;var or=gr;function D(r,e){return e===void 0?function(n){return D(r,n)}:or(r,e)?T:$(e[r])}var lr=function(r){return function(e){for(var n=0;n<e.length;n++)if(r(e[n]))return $(n);return T}};function Ar(r){return function(e){for(var n=0;n<e.length;n++)if(r(e[n]))return $(e[n]);return T}}var ur=function(r){return function(e){for(var n=0;n<e.length;n++){var i=r(e[n]);if(q(i))return i}return T}},Sr=D,_r=lr;function Pr(r){return Ar(r)}var Mr=ur,cr=function(r){return r.slice()},Nr=function(r){return function(e){return e.length<=1?cr(e):e.slice().sort(r.compare)}},Rr=function(r){return function(e){return e.map(function(n){return r(n)})}};export{mr as O,wr as a,V as b,kr as c,B as d,Pr as e,fr as f,pr as g,Tr as h,br as i,dr as j,Nr as k,j as l,$r as m,F as n,xr as o,hr as p,yr as q,I as r,L as s,Er as t,vr as u,Sr as v,Rr as w,_r as x,Cr as y,Mr as z};
