var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z={exports:{}};(function(r,e){(function(s,i){i(r)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:U,function(s){if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const i="The message port closed before a response was received.",o=u=>{const h={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(h).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(t,g=void 0){super(g);this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const w=n=>n&&typeof n=="object"&&typeof n.then=="function",b=(n,t)=>(...g)=>{u.runtime.lastError?n.reject(new Error(u.runtime.lastError.message)):t.singleCallbackArg||g.length<=1&&t.singleCallbackArg!==!1?n.resolve(g[0]):n.resolve(g)},v=n=>n==1?"argument":"arguments",j=(n,t)=>function(m,...A){if(A.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${v(t.minArgs)} for ${n}(), got ${A.length}`);if(A.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${v(t.maxArgs)} for ${n}(), got ${A.length}`);return new Promise((c,x)=>{if(t.fallbackToNoCallback)try{m[n](...A,b({resolve:c,reject:x},t))}catch(a){console.warn(`${n} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),m[n](...A),t.fallbackToNoCallback=!1,t.noCallback=!0,c()}else t.noCallback?(m[n](...A),c()):m[n](...A,b({resolve:c,reject:x},t))})},M=(n,t,g)=>new Proxy(t,{apply(m,A,c){return g.call(A,n,...c)}});let T=Function.call.bind(Object.prototype.hasOwnProperty);const C=(n,t={},g={})=>{let m=Object.create(null),A={has(x,a){return a in n||a in m},get(x,a,f){if(a in m)return m[a];if(!(a in n))return;let l=n[a];if(typeof l=="function")if(typeof t[a]=="function")l=M(n,n[a],t[a]);else if(T(g,a)){let y=j(a,g[a]);l=M(n,n[a],y)}else l=l.bind(n);else if(typeof l=="object"&&l!==null&&(T(t,a)||T(g,a)))l=C(l,t[a],g[a]);else if(T(g,"*"))l=C(l,t[a],g["*"]);else return Object.defineProperty(m,a,{configurable:!0,enumerable:!0,get(){return n[a]},set(y){n[a]=y}}),l;return m[a]=l,l},set(x,a,f,l){return a in m?m[a]=f:n[a]=f,!0},defineProperty(x,a,f){return Reflect.defineProperty(m,a,f)},deleteProperty(x,a){return Reflect.deleteProperty(m,a)}},c=Object.create(n);return new Proxy(c,A)},S=n=>({addListener(t,g,...m){t.addListener(n.get(g),...m)},hasListener(t,g){return t.hasListener(n.get(g))},removeListener(t,g){t.removeListener(n.get(g))}}),I=new p(n=>typeof n!="function"?n:function(g){const m=C(g,{},{getContent:{minArgs:0,maxArgs:0}});n(m)}),N=new p(n=>typeof n!="function"?n:function(g,m,A){let c=!1,x,a=new Promise(k=>{x=function(d){c=!0,k(d)}}),f;try{f=n(g,m,x)}catch(k){f=Promise.reject(k)}const l=f!==!0&&w(f);if(f!==!0&&!l&&!c)return!1;const y=k=>{k.then(d=>{A(d)},d=>{let _;d&&(d instanceof Error||typeof d.message=="string")?_=d.message:_="An unexpected error occurred",A({__mozWebExtensionPolyfillReject__:!0,message:_})}).catch(d=>{console.error("Failed to send onMessage rejected reply",d)})};return y(l?f:a),!0}),W=({reject:n,resolve:t},g)=>{u.runtime.lastError?u.runtime.lastError.message===i?t():n(new Error(u.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?n(new Error(g.message)):t(g)},R=(n,t,g,...m)=>{if(m.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${v(t.minArgs)} for ${n}(), got ${m.length}`);if(m.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${v(t.maxArgs)} for ${n}(), got ${m.length}`);return new Promise((A,c)=>{const x=W.bind(null,{resolve:A,reject:c});m.push(x),g.sendMessage(...m)})},D={devtools:{network:{onRequestFinished:S(I)}},runtime:{onMessage:S(N),onMessageExternal:S(N),sendMessage:R.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:R.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},$={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return h.privacy={network:{"*":$},services:{"*":$},websites:{"*":$}},C(u,D,h)};s.exports=o(chrome)}else s.exports=globalThis.browser})})(Z);function mr(r){return r}function or(r,e,s,i,o,u,h,p,w){switch(arguments.length){case 1:return r;case 2:return function(){return e(r.apply(this,arguments))};case 3:return function(){return s(e(r.apply(this,arguments)))};case 4:return function(){return i(s(e(r.apply(this,arguments))))};case 5:return function(){return o(i(s(e(r.apply(this,arguments)))))};case 6:return function(){return u(o(i(s(e(r.apply(this,arguments))))))};case 7:return function(){return h(u(o(i(s(e(r.apply(this,arguments)))))))};case 8:return function(){return p(h(u(o(i(s(e(r.apply(this,arguments))))))))};case 9:return function(){return w(p(h(u(o(i(s(e(r.apply(this,arguments)))))))))}}}function lr(r,e,s,i,o,u,h,p,w){switch(arguments.length){case 1:return r;case 2:return e(r);case 3:return s(e(r));case 4:return i(s(e(r)));case 5:return o(i(s(e(r))));case 6:return u(o(i(s(e(r)))));case 7:return h(u(o(i(s(e(r))))));case 8:return p(h(u(o(i(s(e(r)))))));case 9:return w(p(h(u(o(i(s(e(r))))))));default:for(var b=arguments[0],v=1;v<arguments.length;v++)b=arguments[v](b);return b}}globalThis&&globalThis.__spreadArray;var q=function(r){return r._tag==="Some"},E={_tag:"None"},P=function(r){return{_tag:"Some",value:r}},z=function(r){return r._tag==="Left"},G=function(r){return r._tag==="Right"},H=function(r){return{_tag:"Left",left:r}},V=function(r){return{_tag:"Right",right:r}},K={equals:function(r,e){return r===e}},J=function(r){return function(e,s){return e===s||r(e,s)===0}},F=function(r){return{equals:J(r),compare:function(e,s){return e===s?0:r(e,s)}}},Ar=function(r){return F(function(e,s){return r.compare(s,e)})},ur=function(r){return function(e){return F(function(s,i){return e.compare(r(s),r(i))})}},Q=function(r){return function(e,s){return e===s||r.compare(e,s)>-1?e:s}};function X(r,e){return r<e?-1:r>e?1:0}K.equals;var Y=function(r){return{concat:Q(r)}},rr=E,er=P,cr=q,xr=function(r){return r._tag==="None"},fr=function(r){return r==null?rr:er(r)},L=H,O=V,hr=z,dr=G,pr=function(r){return function(e){return e==null?L(r):O(e)}},vr=function(r,e){try{return O(r())}catch(s){return L(e(s))}};globalThis&&globalThis.__spreadArray;var sr=function(r){var e=Y(r);return function(s){return s.reduce(e.concat)}};globalThis&&globalThis.__spreadArray;var br=sr,B={equals:function(r,e){return r===e}},nr={equals:B.equals,compare:function(r,e){return r<e?-1:r>e?1:0}};B.equals,nr.compare;globalThis&&globalThis.__spreadArray;var tr=function(r){return function(e){for(var s=0;s<e.length;s++)if(r(e[s]))return P(s);return E}};function ar(r){return function(e){for(var s=0;s<e.length;s++)if(r(e[s]))return P(e[s]);return E}}var gr=function(r){return function(e){for(var s=0;s<e.length;s++){var i=r(e[s]);if(q(i))return i}return E}},yr=tr;function wr(r){return ar(r)}var kr=gr,ir=function(r){return r.slice()},Tr=function(r){return function(e){return e.length<=1?ir(e):e.slice().sort(r.compare)}};export{nr as O,fr as a,Z as b,hr as c,xr as d,wr as e,or as f,ur as g,dr as h,cr as i,Ar as j,Tr as k,L as l,br as m,rr as n,mr as o,lr as p,pr as q,O as r,er as s,vr as t,yr as u,kr as v};
